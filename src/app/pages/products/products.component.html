<button class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded mb-4 mx-4"
    (click)="openOnCreateBatchModal()">
    Add Batch
</button>

<div class="overflow-x-auto">
    <table class="bg-white">
        <thead>
            <tr>
                <th class="py-2 px-4 border-b border-gray-200 bg-gray-100">Name</th>
                <th class="py-2 px-4 border-b border-gray-200 bg-gray-100">Description</th>
                <th class="py-2 px-4 border-b border-gray-200 bg-gray-100">Price</th>
                <th class="py-2 px-4 border-b border-gray-200 bg-gray-100">Batch No</th>
                <th class="py-2 px-4 border-b border-gray-200 bg-gray-100">Quantity</th>
                <th class="py-2 px-4 border-b border-gray-200 bg-gray-100">Actions</th>
            </tr>
        </thead>
        <tbody>
            @for (product of products; track $index) {
            <tr class="mobile-row">
                <td class="py-2 px-4 border-b border-gray-200">{{product.name}}</td>
                <td class="py-2 px-4 border-b border-gray-200">{{product.description}}</td>
                <td class="py-2 px-4 border-b border-gray-200">${{product.price}}</td>
                <td class="py-2 px-4 border-b border-gray-200 mobile-break">{{product.idBatch}}</td>
                <td class="py-2 px-4 border-b border-gray-200 mobile-break">{{product.quantity}}</td>
                <td class="py-2 px-4 border-b border-gray-200 mobile-break flex flex-col justify-center gap-2">
                        <mat-icon class="text-black pointer-cursor" (click)="openOnUpdateBatchModal(product.idBatch)">edit</mat-icon>
                        <mat-icon class="text-black pointer-cursor" (click)="openOnDeleteBatchModal(product.idBatch)">delete</mat-icon>
                </td>
            </tr>
            }
        </tbody>
    </table>
</div>

@if (inCreateBatch) {
    <app-crud-modal
        [inCreateBatch]="true"
        (closeModal)="closeOnCreateBatchModal()"
    ></app-crud-modal>
}

@if (inUpdateBatch) {
    <app-crud-modal
        [idBatch]="idBatch"        
        [inUpdateBatch]="true"
        (closeModal)="closeOnUpdateBatchModal()"
    ></app-crud-modal>
}

@if (inDeleteBatch) {
    <app-crud-modal
        [idBatch]="idBatch"        
        [inDeleteBatch]="true"
        (closeModal)="closeOnDeleteBatchModal()"
    ></app-crud-modal>
}
